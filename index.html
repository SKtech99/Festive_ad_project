<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Divine Festive Ad Generator - Upgraded</title>

    <!-- Google Fonts: Combining existing and new fonts for variety -->
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cinzel:wght@500;700&family=Poppins:wght@300;400;600&family=Bebas+Neue&family=Roboto+Slab:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" href="css/style.css" />
    
    <!-- html2canvas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <!-- Message Box for replacing alert() -->
    <div id="customAlert"></div>

    <!-- background devotional music (replaced local asset with a generic one) -->
    <audio id="bgMusic" autoplay loop muted>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg" />
    </audio>

    <!-- Floating diya container -->
    <div id="diya-container" aria-hidden="true"></div>

    <main class="page">
        <header class="masthead">
            <!-- Used placeholder for logo -->
            <img src="https://placehold.co/110x110/ffd64d/9b1c1c?text=SK+Logo" alt="Brand Logo" class="logo" />
            <h1 class="title sacred">Divine Dussehra & Diwali Ad Studio</h1>
            <p class="subtitle">Create heavenly, devotional, and shareable festival ads ‚Äî beautifully crafted for shops & temples.</p>
        </header>

        <section id="steps" class="steps">

            <!-- STEP 1: Welcome -->
            <div id="step1" class="step active">
                <!-- Used placeholder for hero image -->
                <img src="https://placehold.co/760x400/9b1c1c/ffd64d?text=Festive+Celebration+Image" alt="" class="hero-img" />
                <button class="btn primary" onclick="nextStep(2)">Step In ‚ú®</button>
            </div>

            <!-- STEP 2: Details -->
            <div id="step2" class="step">
                <h2 class="section-title">Enter Your Shop Details</h2>
                <form id="detailsForm" class="form" onsubmit="return false;">
                    <input id="shopName" type="text" placeholder="Shop Name" required />
                    <input id="ownerName" type="text" placeholder="Owner / Contact Name" required />
                    <input id="phone" type="tel" placeholder="Phone (with country code)" required />
                    <label class="file-label">
                        Upload Logo (circle recommended)
                        <input id="logo" type="file" accept="image/*" required />
                    </label>
                    <div class="form-actions">
                        <button class="btn" onclick="saveDetails()">Continue</button>
                    </div>
                </form>
            </div>

            <!-- STEP 3: Templates -->
            <div id="step3" class="step">
                <h2 class="section-title">Select a Template</h2>
                <div class="template-gallery" role="list">
                    <!-- Replaced local assets with placeholders -->
                    <button class="template-card" onclick="selectTemplate('https://placehold.co/220x160/9b1c1c/ffe59a?text=Dussehra+Divine')">
                        <img src="https://placehold.co/220x160/9b1c1c/ffe59a?text=Dussehra+Divine" alt="Dussehra Divine" />
                        <div class="template-caption">Dussehra Divine</div>
                    </button>
                    <button class="template-card" onclick="selectTemplate('https://placehold.co/220x160/c27a00/fff7ed?text=Durga+Blessings')">
                        <img src="https://placehold.co/220x160/c27a00/fff7ed?text=Durga+Blessings" alt="Durga Blessings" />
                        <div class="template-caption">Durga Blessings</div>
                    </button>
                    <button class="template-card" onclick="selectTemplate('https://placehold.co/220x160/d97706/fff?text=Diwali+Sparkle')">
                        <img src="https://placehold.co/220x160/d97706/fff?text=Diwali+Sparkle" alt="Diwali Sparkle" />
                        <div class="template-caption">Diwali Sparkle</div>
                    </button>
                </div>
            </div>

            <!-- STEP 4: Customize & Preview (UPGRADED) -->
            <div id="step4" class="step">
                <h2 class="section-title">Customize & Preview</h2>

                <div class="step4-content">
                    
                    <!-- Preview Card -->
                    <div class="preview-wrap">
                        <div id="statusArea" class="status-card">
                            <img id="statusBg" class="status-bg" src="" alt="Template background" />
                            <!-- Initial logo shape class applied -->
                            <img id="overlayLogo" class="overlay-logo shape-circle" src="" alt="Logo" />
                            <!-- Initial font class applied -->
                            <div id="overlayText" class="overlay-text font-cinzel"></div>
                            <div id="overlayOwner" class="overlay-owner font-poppins"></div>
                            <div id="overlayPhone" class="overlay-phone font-poppins"></div>
                            <div class="frame-decor top-left"></div>
                            <div class="frame-decor top-right"></div>
                            <div class="frame-decor bottom-left"></div>
                            <div class="frame-decor bottom-right"></div>
                        </div>
                    </div>
                    
                    <!-- Customization Panel (NEW) -->
                    <div class="customization-panel">
                        <h3 class="section-title" style="margin-top:0;">Live Editor Controls</h3>

                        <!-- 1. Text Color Control -->
                        <div class="controls-group">
                            <label class="control-label">Text Color</label>
                            <div class="color-input-wrap">
                                <input type="color" id="textColorInput" value="#FFFFFF" oninput="updateColor('text', this.value)">
                            </div>
                        </div>

                        <!-- 2. Frame/Accent Color Control -->
                        <div class="controls-group">
                            <label class="control-label">Accent Color (Frame/Deco)</label>
                            <div class="color-input-wrap">
                                <input type="color" id="accentColorInput" value="#C27A00" oninput="updateColor('accent', this.value)">
                            </div>
                        </div>

                        <!-- 3. Font Family Control -->
                        <div class="controls-group">
                            <label class="control-label">Font Style</label>
                            <div id="fontControls" class="grid-options">
                                <!-- Font buttons generated by JS -->
                            </div>
                        </div>

                        <!-- 4. Logo Shape Control -->
                        <div class="controls-group">
                            <label class="control-label">Logo Shape</label>
                            <div id="shapeControls" class="grid-options">
                                <!-- Shape buttons generated by JS -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="controls">
                    <button class="btn secondary" onclick="downloadStatus()">Download PNG</button>
                    <button class="btn" onclick="nextStep(5)">Continue</button>
                </div>
            </div>

            <!-- STEP 5: Payment -->
            <div id="step5" class="step">
                <h2 class="section-title">Unlock HD Export ‚Äî Pay ‚Çπ19</h2>
                <!-- Used placeholder for QR -->
                <img src="https://placehold.co/220x220/ffe59a/9b1c1c?text=UPI+QR+Code" alt="UPI QR" class="qr" />
                <p class="payment-note">Scan QR with your UPI app (Google Pay / PhonePe / Paytm / BHIM). If you see "bank limit exceeded" or no bank name, please try above UPI QR or use the UPI ID in your app.</p>
                <p class="payment-instruction">UPI ID: <strong>bojjasrikumar0806-1@oksbi</strong> ‚Äî Pay ‚Çπ19 INR (IM a student, just trying this to cover my financial issues üôè,you can gift me more money if you like my work :-) .....)</p>
                <a class="btn primary" href="upi://pay?pa=bojjasrikumar0806-1@oksbi&pn=Srikumar+Bojja&am=19&cu=INR" target="_blank" rel="noopener">Open UPI App</a>
                <div class="form-actions">
                    <button class="btn" onclick="nextStep(6)">I Have Paid</button>app
                </div>
            </div>

            <!-- STEP 6: Thank you -->
            <div id="step6" class="step">
                <div class="thankyou">
                    <!-- Used placeholder for Harathi -->
                    <img src="https://placehold.co/220x220/fff/c27a00?text=Harathi" alt="Harathi" class="harathi" />
                    <h2 class="section-title">Thank You ‚Äî Happy Festivals!</h2>
                    <p class="blessing">May Goddess bless your shop with prosperity & joy.</p>
                    <audio controls>
                        <!-- Used placeholder audio -->
                        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg" />
                    </audio>
                </div>
            </div>

        </section>
    </main>

    <!-- Main JS -->
    <script src="js/script.js"></script>
</body>
</html>
